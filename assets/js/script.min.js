const toggleButton=document.getElementById("toggle-dark-mode"),icon=toggleButton.querySelector("i");"true"===localStorage.getItem("modoEscuro")&&(document.body.classList.add("dark-mode"),icon.classList.remove("fa-moon"),icon.classList.add("fa-sun")),toggleButton.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let e=document.body.classList.contains("dark-mode");localStorage.setItem("modoEscuro",e),e?(icon.classList.remove("fa-moon"),icon.classList.add("fa-sun")):(icon.classList.remove("fa-sun"),icon.classList.add("fa-moon"))});const fadeElements=document.querySelectorAll(".fade-in");function checkFadeIn(){fadeElements.forEach(e=>{let t=e.getBoundingClientRect(),n=t.top<window.innerHeight-100;n&&e.classList.add("show")})}window.addEventListener("scroll",checkFadeIn),window.addEventListener("load",checkFadeIn),window.onload=function(){let e=document.getElementById("banner"),t=["./assets/img/banner1.webp","./assets/img/banner2.webp","./assets/img/banner3.webp","./assets/img/banner4.webp",],n=0;function a(){e.style.backgroundImage=`url(${t[n]})`}window.prevSlide=function(){n=(n-1+t.length)%t.length,a()},window.nextSlide=function(){n=(n+1)%t.length,a()},setInterval(function(){n=(n+1)%t.length,a()},5e3),a()};const menuToggle=document.getElementById("menu-toggle"),menu=document.getElementById("menu");function voltarAoTopo(){window.scrollTo({top:0,behavior:"smooth"})}menuToggle.addEventListener("click",()=>{menu.classList.toggle("active"),document.body.classList.toggle("no-scroll")});const modal=document.getElementById("modal"),modalImg=document.getElementById("img-grande"),descricao=document.getElementById("descricao"),imagens=document.querySelectorAll(".thumb"),prevBtn=document.querySelector(".prev"),nextBtn=document.querySelector(".next"),fechar=document.querySelector(".fechar");let indexAtual=0;function mostrarImagem(e){modalImg.classList.add("deslizando"),setTimeout(()=>{modalImg.src=imagens[e].src,descricao.innerText=imagens[e].alt,modalImg.classList.remove("deslizando")},300)}imagens.forEach((e,t)=>{e.addEventListener("click",function(){modal.style.display="flex",mostrarImagem(indexAtual=t)})}),prevBtn.addEventListener("click",()=>{mostrarImagem(indexAtual=(indexAtual-1+imagens.length)%imagens.length)}),nextBtn.addEventListener("click",()=>{mostrarImagem(indexAtual=(indexAtual+1)%imagens.length)}),fechar.addEventListener("click",function(){modal.style.display="none"}),modal.addEventListener("click",function(e){e.target===modal&&(modal.style.display="none")}),document.addEventListener("keydown",function(e){"flex"===modal.style.display&&("ArrowLeft"===e.key?mostrarImagem(indexAtual=(indexAtual-1+imagens.length)%imagens.length):"ArrowRight"===e.key?mostrarImagem(indexAtual=(indexAtual+1)%imagens.length):"Escape"===e.key&&(modal.style.display="none"))});const coracao=document.querySelector(".cora\xe7\xe3o"),contador=document.querySelector(".contador");function getImageKey(){return"curtido_"+modalImg.src}function getCountKey(){return"count_"+modalImg.src}function updateCurtida(){let e=getImageKey(),t=getCountKey(),n="true"===localStorage.getItem(e),a=localStorage.getItem(t)||0;n?coracao.classList.add("curtiu"):coracao.classList.remove("curtiu"),contador.textContent=a}modalImg.addEventListener("load",updateCurtida),coracao.addEventListener("click",function(){let e=getImageKey(),t=getCountKey(),n=parseInt(localStorage.getItem(t))||0;coracao.classList.contains("curtiu")?(coracao.classList.remove("curtiu"),localStorage.removeItem(e),n=Math.max(0,n-1)):(coracao.classList.add("curtiu"),localStorage.setItem(e,"true"),n++),localStorage.setItem(t,n),contador.textContent=n,coracao.classList.add("pulse"),setTimeout(()=>coracao.classList.remove("pulse"),600)});